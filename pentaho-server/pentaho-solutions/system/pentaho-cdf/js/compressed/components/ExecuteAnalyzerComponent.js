define(["./AnalyzerComponent","../lib/jquery","amd!../lib/jquery.fancybox"],function(t,e){return t.extend({update:function(){this.clear(),this._createExecuteButton()},executeAnalyzerComponent:function(){var t=e(window);e.fancybox.open({src:this._getApiUrl(),type:"iframe",baseClass:"cdf-fancybox cdf-fancybox-iframe",btnTpl:{smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="close"></button>'}},{toolbar:!1,smallBtn:!0,iframe:{preload:!1,css:{width:t.width(),height:t.height()-50,"max-width":"100%","max-height":"100%"}}})},_createExecuteButton:function(){var t=e("#"+this.htmlObject);if(t.length){var n=t[0].tagName.toUpperCase();if(-1!==["SPAN","DIV"].indexOf(n)){t=e("<button/>").appendTo(t.empty()),"DIV"===n&&t.wrap("<span/>");var a=this.label;null!=a&&t.text(a),t.button()}t.unbind("click");var o=this;t.bind("click",function(){var t=!0;"function"==typeof o.preChange&&(t=o.preChange()),t&&o.executeAnalyzerComponent(),"function"==typeof o.postChange&&o.postChange()})}}})});