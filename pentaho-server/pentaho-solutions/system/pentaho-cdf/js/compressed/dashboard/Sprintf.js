define(["./Utils"],function(n){var t={init:function(){if(void 0===arguments)return null;if(arguments.length<1)return null;if("string"!=typeof arguments[0])return null;if("undefined"==typeof RegExp)return null;for(var e=arguments[0],r=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g),a=new Array,g=new Array,i=0,o=0,u=0,s=0,l="",c=null;c=r.exec(e);){c[9]&&(i+=1),o=s,u=r.lastIndex-c[0].length,g[g.length]=e.substring(o,u),s=r.lastIndex;var m=parseInt(arguments[i])<0;m||(m=parseFloat(arguments[i])<0),a[a.length]={match:c[0],left:!!c[3],sign:c[4]||"",pad:c[5]||" ",min:c[6]||0,precision:c[8],code:c[9]||"%",negative:m,argument:String(arguments[i])}}if(g[g.length]=e.substring(s),0==a.length)return e;if(arguments.length-1<i)return null;c=null;var d=null;for(d=0;d<a.length;d++){var p,h=a[d];"%"==h.code?p="%":"b"==h.code?(h.argument=String(Math.abs(parseInt(h.argument)).toString(2)),p=t.convert(h,!0)):"c"==h.code?(h.argument=String(String.fromCharCode(parseInt(Math.abs(parseInt(h.argument))))),p=t.convert(h,!0)):"d"==h.code?(h.argument=n.toFormatedString(String(Math.abs(parseInt(h.argument)))),p=t.convert(h)):"f"==h.code?(h.argument=n.toFormatedString(String(Math.abs(parseFloat(h.argument)).toFixed(h.precision?h.precision:6))),p=t.convert(h)):"o"==h.code?(h.argument=String(Math.abs(parseInt(h.argument)).toString(8)),p=t.convert(h)):"s"==h.code?(h.argument=h.argument.substring(0,h.precision?h.precision:h.argument.length),p=t.convert(h,!0)):"x"==h.code?(h.argument=String(Math.abs(parseInt(h.argument)).toString(16)),p=t.convert(h)):"X"==h.code?(h.argument=String(Math.abs(parseInt(h.argument)).toString(16)),p=t.convert(h).toUpperCase()):p=h.match,l+=g[d],l+=p}return l+=g[d]},convert:function(n,t){n.sign=t?"":n.negative?"-":n.sign;var e=n.min-n.argument.length+1-n.sign.length,r=new Array(e<0?0:e).join(n.pad);return n.left?"0"==n.pad||t?n.sign+n.argument+r.replace(/0/g," "):n.sign+n.argument+r:"0"==n.pad||t?n.sign+r+n.argument:r+n.sign+n.argument}};return t.init});