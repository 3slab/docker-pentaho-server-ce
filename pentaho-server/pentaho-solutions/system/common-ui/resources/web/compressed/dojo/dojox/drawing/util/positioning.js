define(["./common"],function(n){var x={};return x.label=function(x,r){var t=.5*(x.x+r.x),a=.5*(x.y+r.y),y=n.slope(x,r),e=4/Math.sqrt(1+y*y);return(r.y>x.y&&r.x>x.x||r.y<x.y&&r.x<x.x)&&(e=-e,a-=20),t+=-e*y,a+=e,{x:t,y:a,foo:"bar",align:r.x<x.x?"end":"start"}},x.angle=function(x,r){var t=.7*x.x+.3*r.x,a=.7*x.y+.3*r.y,y=n.slope(x,r),e=4/Math.sqrt(1+y*y);r.x<x.x&&(e=-e),t+=-e*y,a+=e;var o=r.y>x.y?"end":"start";return a+=r.x>x.x?10:-10,{x:t,y:a,align:o}},x});