define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/dom-class","dijit/registry","dojo/dom","dojo/dom-construct","dojox/mobile/scrollable"],function(e,o,t,i,d,s,r,a,h){return e("dojox.app.widgets._ScrollableMixin",h,{scrollableParams:null,appBars:!0,allowNestedScrolls:!0,constructor:function(){this.scrollableParams={noResize:!0}},destroy:function(){this.cleanup(),this.inherited(arguments)},startup:function(){if(!this._started){this.findAppBars();var e,o=this.scrollableParams;this.fixedHeader&&(e=r.byId(this.fixedHeader),e.parentNode==this.domNode&&(this.isLocalHeader=!0),o.fixedHeaderHeight=e.offsetHeight),this.fixedFooter&&(e=r.byId(this.fixedFooter),e.parentNode==this.domNode&&(this.isLocalFooter=!0,e.style.bottom="0px"),o.fixedFooterHeight=e.offsetHeight),this.init(o),this.inherited(arguments),this.reparent()}},buildRendering:function(){this.inherited(arguments),d.add(this.domNode,"mblScrollableView"),this.domNode.style.overflow="hidden",this.domNode.style.top="0px",this.containerNode=a.create("div",{className:"mblScrollableViewContainer"},this.domNode),this.containerNode.style.position="absolute",this.containerNode.style.top="0px","v"===this.scrollDir&&(this.containerNode.style.width="100%")},reparent:function(){var e,o,t,i;for(e=0,o=0,t=this.domNode.childNodes.length;e<t;e++)i=this.domNode.childNodes[o],i===this.containerNode||this.checkFixedBar(i,!0)?o++:this.containerNode.appendChild(this.domNode.removeChild(i))},resize:function(){this.inherited(arguments),t.forEach(this.getChildren(),function(e){e.resize&&e.resize()})},findAppBars:function(){if(this.appBars){var e,o,t;for(e=0,o=i.body().childNodes.length;e<o;e++)t=i.body().childNodes[e],this.checkFixedBar(t,!1);if(this.domNode.parentNode)for(e=0,o=this.domNode.parentNode.childNodes.length;e<o;e++)t=this.domNode.parentNode.childNodes[e],this.checkFixedBar(t,!1);this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0}},checkFixedBar:function(e,o){if(1===e.nodeType){var t=e.getAttribute("data-app-constraint")||s.byNode(e)&&s.byNode(e)["data-app-constraint"];if("bottom"===t)return d.add(e,"mblFixedBottomBar"),o?this.fixedFooter=e:this._fixedAppFooter=e,t}return null}})});