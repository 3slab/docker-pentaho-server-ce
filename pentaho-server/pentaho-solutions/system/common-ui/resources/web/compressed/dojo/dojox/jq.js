dojo.provide("dojox.jq"),dojo.require("dojo.NodeList-traverse"),dojo.require("dojo.NodeList-manipulate"),dojo.require("dojo.io.script"),function(){function t(t,o){return t+="",t=t.replace(/<\s*(\w+)([^\/\>]*)\/\s*>/g,function(t,o,e){return-1==p.indexOf("|"+o+"|")?"<"+o+e+"></"+o+">":t}),dojo._toDom(t,o)}function o(t){var o=t.indexOf("-");return-1!=o&&(0==o&&(t=t.substring(1)),t=t.replace(/-(\w)/g,function(t,o){return o.toUpperCase()})),t}function e(t,o){if(t==o)return t;var n={};for(var r in o)void 0!==n[r]&&n[r]==o[r]||void 0===o[r]||t==o[r]||(dojo.isObject(t[r])&&dojo.isObject(o[r])?dojo.isArray(o[r])?t[r]=o[r]:t[r]=e(t[r],o[r]):t[r]=o[r]);if(dojo.isIE&&o){var i=o.toString;"function"==typeof i&&i!=t.toString&&i!=n.toString&&"\nfunction toString() {\n    [native code]\n}\n"!=i&&(t.toString=o.toString)}return t}function n(t){return t.contentDocument||t.name&&t.document&&document.getElementsByTagName("iframe")[t.name].contentWindow&&document.getElementsByTagName("iframe")[t.name].contentWindow.document||t.name&&document.frames[t.name]&&document.frames[t.name].document||null}function r(t,o,e,n){if(n){var r={};return r[e]=n,t.forEach(function(t){dojo[o](t,r)}),t}return Math.abs(Math.round(dojo[o](t[0])[e]))}function i(t,o,e,n,r){var i=!1;(i="none"==t.style.display)&&(t.style.display="block");var a=dojo.getComputedStyle(t),s=Math.abs(Math.round(dojo._getContentBox(t,a)[o])),u=e?Math.abs(Math.round(dojo._getPadExtents(t,a)[o])):0,d=n?Math.abs(Math.round(dojo._getBorderExtents(t,a)[o])):0,c=r?Math.abs(Math.round(dojo._getMarginExtents(t,a)[o])):0;return i&&(t.style.display="none"),u+s+d+c}function a(t){t=t.split("$$")[0];var o=t.indexOf(".");return-1!=o&&(t=t.substring(0,o)),t}function s(t,o){return 0==o.indexOf("ajax")?dojo.subscribe(L[o],function(e,n){var r=new g.Event(o);-1!="ajaxComplete|ajaxSend|ajaxSuccess".indexOf(o)?d(t,[r,e.ioArgs.xhr,e.ioArgs.args]):"ajaxError"==o?d(t,[r,e.ioArgs.xhr,e.ioArgs.args,n]):d(t,[r])}):dojo.connect(t,"on"+o,function(o){d(t,arguments)})}function u(t,o){t=t||[],t=[].concat(t);var e=t[0];return e&&e.preventDefault||(e=o&&o.preventDefault?o:new g.Event(o),t.unshift(e)),t}function d(t,o,e){F=!0,o=o||w,e=e,9==t.nodeType&&(t=t.documentElement);var n=t.getAttribute(k);if(n){var r,i=o[0],s=i.type,u=a(s),d=N[n][u];if(e&&(r=e.apply(t,o)),!1!==r)for(var c in d)if("_connectId"!=c&&(!i._isStrict&&0==c.indexOf(s)||i._isStrict&&c==s)){i[dojo._scopeName+"callbackId"]=c;var f=d[c];void 0!==f.data?i.data=f.data:i.data=null,!1!==(r=f.fn.apply(i.target,o))||i._isFake||dojo.stopEvent(i),i.result=r}return r}}function c(t,o){var e=o.getAttribute(k),n=N[e];if(n){var r=r=C++;o.setAttribute(k,r);var i=N[r]={};for(var a in n){var u=i[a]={_connectId:s(o,a)},d=n[a];for(var c in d)u[c]={fn:d[c].fn,data:d[c].data}}}}function f(t,o,e,n,r){var i=t[o];if(i){var a=-1!=e.indexOf("."),s=!1;if(n)delete i[n];else if(a||r){if(a)if("."==e.charAt(0))for(var u in i)u.indexOf(e)==u.length-e.length&&delete i[u];else delete i[e];else for(var u in i)if(-1!=u.indexOf("$$")&&i[u].fn==r){delete i[u];break}}else s=!0;var d=!0;for(var u in i)if("_connectId"!=u){d=!1;break}(s||d)&&(-1!=o.indexOf("ajax")?dojo.unsubscribe(i._connectId):dojo.disconnect(i._connectId),delete t[o])}}function l(t){return dojo.isString(t)&&(t="slow"==t?700:"fast"==t?300:500),t}function h(t){for(var o in t)if(o.indexOf("callback")==o.length-8)return o;return null}dojo.config.ioPublish=!0;var p="|img|meta|hr|br|input|",j=dojo.global.$,v=dojo.global.jQuery,g=dojo.global.$=dojo.global.jQuery=function(){var o=arguments[0];if(!o)return g._wrap([],null,g);if(dojo.isString(o)){if("<"!=o.charAt(0)){var e=dojo._NodeListCtor;dojo._NodeListCtor=g;var n=arguments[1];n&&n._is$?n=n[0]:dojo.isString(n)&&(n=dojo.query(n)[0]);var r=dojo.query.call(this,o,n);return dojo._NodeListCtor=e,r}if(o=t(o),11!=o.nodeType)return g._wrap([o],null,g);o=o.childNodes}else{if(dojo.isFunction(o))return g.ready(o),g;if(o==document||o==window)return g._wrap([o],null,g);if(dojo.isArray(o)){for(var i=[],a=0;a<o.length;a++)-1==dojo.indexOf(i,o[a])&&i.push(o[a]);return g._wrap(o,null,g)}if("nodeType"in o)return g._wrap([o],null,g)}return g._wrap(dojo._toArray(o),null,g)},y=dojo.NodeList.prototype,m=g.fn=g.prototype=dojo.delegate(y);g._wrap=dojo.NodeList._wrap;var b=/^H\d/i,x=dojo.query.pseudos;dojo.mixin(x,{has:function(t,o){return function(t){return g(o,t).length}},visible:function(t,o){return function(t){return"hidden"!=dojo.style(t,"visible")&&"none"!=dojo.style(t,"display")}},hidden:function(t,o){return function(t){return"hidden"==t.type||"hidden"==dojo.style(t,"visible")||"none"==dojo.style(t,"display")}},selected:function(t,o){return function(t){return t.selected}},checked:function(t,o){return function(t){return"INPUT"==t.nodeName.toUpperCase()&&t.checked}},disabled:function(t,o){return function(t){return t.getAttribute("disabled")}},enabled:function(t,o){return function(t){return!t.getAttribute("disabled")}},input:function(t,o){return function(t){var o=t.nodeName.toUpperCase();return"INPUT"==o||"SELECT"==o||"TEXTAREA"==o||"BUTTON"==o}},button:function(t,o){return function(t){return"INPUT"==t.nodeName.toUpperCase()&&"button"==t.type||"BUTTON"==t.nodeName.toUpperCase()}},header:function(t,o){return function(t){return t.nodeName.match(b)}}});var _={};dojo.forEach(["text","password","radio","checkbox","submit","image","reset","file"],function(t){_[t]=function(o,e){return function(o){return"INPUT"==o.nodeName.toUpperCase()&&o.type==t}}}),dojo.mixin(x,_),g.browser={mozilla:dojo.isMoz,msie:dojo.isIE,opera:dojo.isOpera,safari:dojo.isSafari},g.browser.version=dojo.isIE||dojo.isMoz||dojo.isOpera||dojo.isSafari||dojo.isWebKit,g.ready=g.fn.ready=function(t){return dojo.addOnLoad(dojo.hitch(null,t,g)),this},m._is$=!0,m.size=function(){return this.length},g.prop=function(t,o){return dojo.isFunction(o)?o.call(t):o},g.className={add:dojo.addClass,remove:dojo.removeClass,has:dojo.hasClass},g.makeArray=function(t){return void 0===t?[]:!t.length||dojo.isString(t)||"location"in t?[t]:dojo._toArray(t)},g.merge=function(t,o){var e=[t.length,0];return e=e.concat(o),t.splice.apply(t,e),t},g.each=function(t,o){if(dojo.isArrayLike(t))for(var e=0;e<t.length&&!1!==o.call(t[e],e,t[e]);e++);else if(dojo.isObject(t))for(var n in t)if(!1===o.call(t[n],n,t[n]))break;return this},m.each=function(t){return g.each.call(this,this,t)},m.eq=function(){var t=g();return dojo.forEach(arguments,function(o){this[o]&&t.push(this[o])},this),t},m.get=function(t){return t||0==t?this[t]:this},m.index=function(t){return t._is$&&(t=t[0]),this.indexOf(t)};var T=[],E=0,S=dojo._scopeName+"DataId",O=function(t){var o=t.getAttribute(S);o||(o=E++,t.setAttribute(S,o))},A=function(t){var o={};if(1==t.nodeType){var e=O(t);o=T[e],o||(o=T[e]={})}return o};g.data=function(t,o,e){var n=null;if("events"==o){n=N[t.getAttribute(k)];var r=!0;if(n)for(var i in n){r=!1;break}return r?null:n}var a=A(t);return void 0!==e?a[o]=e:n=a[o],e?this:n},g.removeData=function(t,o){var e=A(t);if(delete e[o],1==t.nodeType){var n=!0;for(var r in e){n=!1;break}n&&t.removeAttribute(S)}return this},m.data=function(t,o){var e=null;return this.forEach(function(n){e=g.data(n,t,o)}),o?this:e},m.removeData=function(t){return this.forEach(function(o){g.removeData(o,t)}),this},m.extend=function(){var t=[this];return t=t.concat(arguments),g.extend.apply(g,t)},g.extend=function(){for(var t,o=arguments,n=0;n<o.length;n++){var r=o[n];r&&dojo.isObject(r)&&(t?e(t,r):t=r)}return t},g.noConflict=function(t){var o=g;return dojo.global.$=j,t&&(dojo.global.jQuery=v),o},m.attr=function(t,o){if(1==arguments.length&&dojo.isString(arguments[0])){var e=this[0];if(!e)return null;var n=arguments[0],r=dojo.attr(e,n),i=e[n];return n in e&&!dojo.isObject(i)&&"href"!=t?i:r||i}if(dojo.isObject(t)){for(var a in t)this.attr(a,t[a]);return this}var s=dojo.isFunction(o);return this.forEach(function(e,n){var r=e[t];t in e&&!dojo.isObject(r)&&"href"!=t?e[t]=s?o.call(e,n):o:1==e.nodeType&&dojo.attr(e,t,s?o.call(e,n):o)}),this},m.removeAttr=function(t){return this.forEach(function(o,e){var n=o[t];t in o&&!dojo.isObject(n)&&"href"!=t?delete o[t]:1==o.nodeType&&("class"==t?o.removeAttribute(t):dojo.removeAttr(o,t))}),this},m.toggleClass=function(t,o){var e=arguments.length>1;return this.forEach(function(n){dojo.toggleClass(n,t,e?o:!dojo.hasClass(n,t))}),this},m.toggle=function(){var t=arguments;if(arguments.length>1&&dojo.isFunction(arguments[0])){var o=0,e=function(){t[o].apply(this,arguments);(o+=1)>t.length-1&&(o=0)};return this.bind("click",e)}var n=1==arguments.length?arguments[0]:void 0;return this.forEach(function(o){var e=void 0===n?"none"==dojo.style(o,"display"):n,r=e?"show":"hide",i=g(o);i[r].apply(i,t)}),this},m.hasClass=function(t){return this.some(function(o){return dojo.hasClass(o,t)})},m.html=m.innerHTML,dojo.forEach(["filter","slice"],function(t){m[t]=function(){var o;if(dojo.isFunction(arguments[0])){var e=arguments[0];arguments[0]=function(t,o){return e.call(t,t,o)}}if("filter"==t&&dojo.isString(arguments[0]))var o=this._filterQueryResult(this,arguments[0]);else{var n=dojo._NodeListCtor;dojo._NodeListCtor=m,o=g(y[t].apply(this,arguments)),dojo._NodeListCtor=n}return o._stash(this)}}),m.map=function(t){return this._buildArrayFromCallback(t)},g.map=function(t,o){return m._buildArrayFromCallback.call(t,o)},g.inArray=function(t,o){return dojo.indexOf(o,t)},m.is=function(t){return!!t&&!!this.filter(t).length},m.not=function(){var t=g.apply(g,arguments);return g(y.filter.call(this,function(o){return-1==t.indexOf(o)}))._stash(this)},m.add=function(){return this.concat.apply(this,arguments)},m.contents=function(){var t=[];return this.forEach(function(o){if("IFRAME"==o.nodeName.toUpperCase()){var e=n(o);e&&t.push(e)}else for(var r=o.childNodes,i=0;i<r.length;i++)t.push(r[i])}),this._wrap(t)._stash(this)},m.find=function(t){var o=[];return this.forEach(function(e){1==e.nodeType&&(o=o.concat(dojo._toArray(g(t,e))))}),this._getUniqueAsNodeList(o)._stash(this)},m.andSelf=function(){return this.add(this._parent)},m.remove=function(t){var o=t?this._filterQueryResult(this,t):this;return o.removeData(),o.forEach(function(t){t.parentNode.removeChild(t)}),this},g.css=function(t,e,n){return e=o(e),n?dojo.style(t,e,n):dojo.style(t,e)},m.css=function(t,e){if(dojo.isString(t))return t=o(t),2==arguments.length?(dojo.isString(e)||"zIndex"==t||(e+="px"),this.forEach(function(o){1==o.nodeType&&dojo.style(o,t,e)}),this):(e=dojo.style(this[0],t),dojo.isString(e)||"zIndex"==t||(e+="px"),e);for(var n in t)this.css(n,t[n]);return this},m.height=function(t){return r(this,"contentBox","h",t)},m.width=function(t){return r(this,"contentBox","w",t)},m.innerHeight=function(){return i(this[0],"h",!0)},m.innerWidth=function(){return i(this[0],"w",!0)},m.outerHeight=function(t){return i(this[0],"h",!0,!0,t)},m.outerWidth=function(t){return i(this[0],"w",!0,!0,t)};var w,N=[],C=1,k=dojo._scopeName+"eventid";g.Event=function(t){if(this==g)return new g.Event(t);"string"==typeof t?this.type=t.replace(/!/,""):dojo.mixin(this,t),this.timeStamp=(new Date).getTime(),this._isFake=!0,this._isStrict=-1!=this.type.indexOf("!")};var I=g.Event.prototype={preventDefault:function(){this.isDefaultPrevented=this._true},stopPropagation:function(){this.isPropagationStopped=this._true},stopImmediatePropagation:function(){this.isPropagationStopped=this._true,this.isImmediatePropagationStopped=this._true},_true:function(){return!0},_false:function(){return!1}};dojo.mixin(I,{isPropagationStopped:I._false,isImmediatePropagationStopped:I._false,isDefaultPrevented:I._false});var F=!1;m.triggerHandler=function(t,o,e){var n=this[0];return n&&3!=n.nodeType&&8!=n.nodeType?(o=u(o,t),d(n,o,e)):void 0},m.trigger=function(t,o,e){o=u(o,t);var n=o[0],t=a(n.type);w=o,currentExtraFunc=e;var r=null,i=!n.target;return this.forEach(function(a){if(3!=a.nodeType&&8!=a.nodeType){if(9==a.nodeType&&(a=a.documentElement),n._isFake&&(n.currentTarget=a,i&&(n.target=a)),e){var s=o.slice(1);r=e.apply(a,r=s.concat(r))}if(!1!==r){if(F=!1,a[t])try{r=a[t]()}catch(t){}else if(a["on"+t])try{r=a["on"+t]()}catch(t){}F||(r=d(a,o));var u=a.parentNode;!1===r||n.isImmediatePropagationStopped()||n.isPropagationStopped()||!u||1!=u.nodeType||g(u).trigger(t,o,e)}}}),w=null,currentExtraFunc=null,this};var P=0;m.bind=function(t,o,e){return t=t.split(" "),e||(e=o,o=null),this.forEach(function(n){if(3!=n.nodeType&&8!=n.nodeType){9==n.nodeType&&(n=n.documentElement);var r=n.getAttribute(k);r||(r=C++,n.setAttribute(k,r),N[r]={});for(var i=0;i<t.length;i++){var u=t[i],d=a(u);d==u&&(u=d+"$$"+P++);var c=N[r];c[d]||(c[d]={_connectId:s(n,d)}),c[d][u]={fn:e,data:o}}}}),this},m.unbind=function(t,o){var e=t?t[dojo._scopeName+"callbackId"]:null;return t=t&&t.type?t.type:t,t=t?t.split(" "):t,this.forEach(function(n){if(3!=n.nodeType&&8!=n.nodeType){9==n.nodeType&&(n=n.documentElement);var r=n.getAttribute(k);if(r){var i=N[r];if(i){var s=t;if(!s){s=[];for(var u in i)s.push(u)}for(var d=0;d<s.length;d++){var c=s[d],l=a(c);if("."==c.charAt(0))for(var u in i)f(i,u,c,e,o);else f(i,l,c,e,o)}}}}}),this},m.one=function(t,o){var e=function(){return g(this).unbind(t,arguments.callee),o.apply(this,arguments)};return this.bind(t,e)},m._cloneNode=function(t){var o=t.cloneNode(!0);if(1==t.nodeType)for(var e,n=dojo.query("["+k+"]",o),r=0;e=n[r];r++){var i=dojo.query("["+k+'="'+e.getAttribute(k)+'"]',t)[0];i&&c(i,e)}return o},dojo.getObject("$.event.global",!0),dojo.forEach(["blur","focus","dblclick","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit","ajaxStart","ajaxSend","ajaxSuccess","ajaxError","ajaxComplete","ajaxStop"],function(t){m[t]=function(o){return o?this.bind(t,o):this.trigger(t),this}}),m.hide=function(t,o){return t=l(t),this.forEach(function(e){var n=e.style;"none"!=dojo.getComputedStyle(e).display&&(n.overflow="hidden",n.display="block",t?dojo.anim(e,{width:0,height:0,opacity:0},t,null,function(){return n.width="",n.height="",n.display="none",o&&o.call(e)}):(dojo.style(e,"display","none"),o&&o.call(e)))}),this},m.show=function(t,o){return t=l(t),this.forEach(function(e){var n=e.style;if("none"==dojo.getComputedStyle(e).display)if(t){var r=parseFloat(n.width),i=parseFloat(n.height);if(!r||!i){n.display="block";var a=dojo.marginBox(e);r=a.w,i=a.h}n.width=0,n.height=0,n.overflow="hidden",dojo.attr(e,"opacity",0),n.display="block",dojo.anim(e,{width:r,height:i,opacity:1},t,null,o?dojo.hitch(e,o):void 0)}else dojo.style(e,"display","block"),o&&o.call(e)}),this},g.ajaxSettings={},g.ajaxSetup=function(t){dojo.mixin(g.ajaxSettings,t)};var L={ajaxStart:"/dojo/io/start",ajaxSend:"/dojo/io/send",ajaxSuccess:"/dojo/io/load",ajaxError:"/dojo/io/error",ajaxComplete:"/dojo/io/done",ajaxStop:"/dojo/io/stop"};for(var M in L)0==M.indexOf("ajax")&&function(t){m[t]=function(o){return this.forEach(function(e){dojo.subscribe(L[t],function(){var n=new g.Event(t),r=arguments[0]&&arguments[0].ioArgs,i=r&&r.xhr,a=r&&r.args,s=arguments[1];return-1!="ajaxComplete|ajaxSend|ajaxSuccess".indexOf(t)?o.call(e,n,i,a):"ajaxError"==t?o.call(e,n,i,a,s):o.call(e,n)})}),this}}(M);var q=dojo._xhrObj;dojo._xhrObj=function(t){var o=q.apply(dojo,arguments);return(!t||!t.beforeSend||!1!==t.beforeSend(o))&&o},g.ajax=function(t){var o=dojo.delegate(g.ajaxSettings);for(var e in t)if("data"==e&&dojo.isObject(t[e])&&dojo.isObject(o.data))for(var n in t[e])o.data[n]=t[e][n];else o[e]=t[e];t=o;var r=t.url;if("async"in t&&(t.sync=!t.async),!1===t.global&&(t.ioPublish=!1),t.data){var i=t.data;if(dojo.isString(i))t.content=dojo.queryToObject(i);else{for(var e in i)dojo.isFunction(i[e])&&(i[e]=i[e]());t.content=i}}var a=t.dataType;"dataType"in t?("script"==a?a="javascript":"html"==a&&(a="text"),t.handleAs=a):(a=t.handleAs="text",t.guessedType=!0),"cache"in t?t.preventCache=!t.cache:"script"!=t.dataType&&"jsonp"!=t.dataType||(t.preventCache=!0),t.error&&(t._jqueryError=t.error,delete t.error),t.handle=function(o,e){var n="success";if(o instanceof Error)n="timeout"==o.dojoType?"timeout":"error",t._jqueryError&&t._jqueryError(e.xhr,n,o);else{var r=e.args.guessedType&&e.xhr&&e.xhr.responseXML;r&&(o=r),t.success&&t.success(o,n,e.xhr)}return t.complete&&t.complete(o,n,e.xhr),o};var s="jsonp"==a;if("javascript"==a){var u=r.indexOf(":"),d=r.indexOf("/");if(u>0&&u<d){var c=r.indexOf("/",d+2);-1==c&&(c=r.length),location.protocol==r.substring(0,u+1)&&location.hostname==r.substring(d+2,c)||(s=!0)}}if(s){if("jsonp"==a){var f=t.jsonp;if(!f){var l=t.url.split("?")[1];if(l&&(l=dojo.queryToObject(l))&&(f=h(l))){var p=new RegExp("([&\\?])?"+f+"=?");t.url=t.url.replace(p+"=?")}f||(f=h(t.content))&&delete t.content[f]}t.jsonp=f||"callback"}var j=dojo.io.script.get(t);return j}var j=dojo.xhr(t.type||"GET",t);return!1!==j.ioArgs.xhr&&j.ioArgs.xhr},g.getpost=function(t,o,e,n,r){var i={url:o,type:t};return e&&(dojo.isFunction(e)&&!n?i.complete=e:i.data=e),n&&(dojo.isString(n)&&!r?r=n:i.complete=n),r&&(i.dataType=r),g.ajax(i)},g.get=dojo.hitch(g,"getpost","GET"),g.post=dojo.hitch(g,"getpost","POST"),g.getJSON=function(t,o,e){return g.getpost("GET",t,o,e,"json")},g.getScript=function(t,o){return g.ajax({url:t,success:o,dataType:"script"})},m.load=function(t,o,e){var n=this[0];if(!n||!n.nodeType||9==n.nodeType)return dojo.addOnLoad(t),this;var r=t.split(/\s+/);t=r[0];var i=r[1],a=e||o,s=dojo.hitch(this,function(t,o,e){var n=t.match(/\<\s*body[^>]+>.*<\/body\s*>/i);n&&(t=n);var r=dojo._toDom(t);if(i){var s=g(dojo.create("div"));s.append(r),r=s.find(i)}else r=g(11==r.nodeType?r.childNodes:r);this.html(r),a&&setTimeout(dojo.hitch(this,function(){this.forEach(function(n){a.call(n,t,o,e)})}),10)});e?e=s:o=s;var u="GET";return o&&dojo.isObject(o)&&(u="POST"),g.getpost(u,t,o,e,"html"),this},m.serialize=function(){return""+this.map(function(t){if("FORM"==t.nodeName.toUpperCase())return dojo.formToQuery(t);if(-1=="file|submit|image|reset|button|".indexOf((t.type||"").toLowerCase())){var o=dojo.fieldToObject(t);if(t.name&&null!=o){var e={};return e[t.name]=o,dojo.objectToQuery(e)}}}).join("&")},g.param=function(t){return t._is$&&t.serialize?t.serialize():dojo.isArray(t)?dojo.map(t,function(t){return g.param(t)}).join("&"):dojo.objectToQuery(t)},g.isFunction=function(){var t=dojo.isFunction.apply(dojo,arguments);return t&&(t="object"!=typeof arguments[0]),t}}();