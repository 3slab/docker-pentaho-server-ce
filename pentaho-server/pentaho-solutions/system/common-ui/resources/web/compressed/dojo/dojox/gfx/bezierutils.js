define(["./_base"],function(n){var t=n.bezierutils={},r=(t.tAtLength=function(n,t){var r=0,i=6==n.length,a=0,o=0,c=i?u:f,h=function(u,f){for(var v=0,g=0;g<u.length-2;g+=2)v+=e(u[g],u[g+1],u[g+2],u[g+3]);if(v-(i?e(n[0],n[1],n[4],n[5]):e(n[0],n[1],n[6],n[7]))>f||a+v>t+f){++o;var l=c(u,.5);if(h(l[0],f),Math.abs(a-t)<=f)return;return void h(l[1],f)}a+=v,r+=1/(1<<o)};return t&&h(n,.5),r},t.computeLength=function(n){for(var t=6==n.length,f=0,a=0;a<n.length-2;a+=2)f+=e(n[a],n[a+1],n[a+2],n[a+3]);if(f-(t?e(n[0],n[1],n[4],n[5]):e(n[0],n[1],n[6],n[7]))>.1){var o=t?u(n,.5):i(n,.5),c=r(o[0],t);return c+=r(o[1],t)}return f}),e=t.distance=function(n,t,r,e){return Math.sqrt((r-n)*(r-n)+(e-t)*(e-t))},u=function(n,t){var r=1-t,e=r*r,u=t*t,i=n[0],f=n[1],a=n[2],o=n[3],c=n[4],h=n[5],v=r*i+t*a,g=r*f+t*o,l=r*a+t*c,s=r*o+t*h,b=e*i+2*r*t*a+u*c,d=e*f+2*r*t*o+u*h;return[[i,f,v,g,b,d],[b,d,l,s,c,h]]},i=function(n,t){var r=1-t,e=r*r,u=e*r,i=t*t,f=i*t,a=n[0],o=n[1],c=n[2],h=n[3],v=n[4],g=n[5],l=n[6],s=n[7],b=r*a+t*c,d=r*o+t*h,p=r*v+t*l,z=r*g+t*s,A=e*a+2*r*t*c+i*v,L=e*o+2*r*t*h+i*g,M=e*c+2*r*t*v+i*l,m=e*h+2*r*t*g+i*s,q=u*a+3*e*t*c+3*r*i*v+f*l,B=u*o+3*e*t*h+3*r*i*g+f*s;return[[a,o,b,d,A,L,q,B],[q,B,M,m,p,z,l,s]]},f=t.splitBezierAtT=function(n,t){return 6==n.length?u(n,t):i(n,t)};return t});